"use strict";(self.webpackChunk_builddao_near_social_js=self.webpackChunk_builddao_near_social_js||[]).push([[80],{3936:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>d,toc:()=>g});var t=a(4848),s=a(8453),i=a(1470),r=a(9365),c=a(4252);const o={},l="Storing Data",d={id:"advanced/storing-data",title:"Storing Data",description:"<TOCInline",source:"@site/docs/advanced/storing-data.mdx",sourceDirName:"advanced",slug:"/advanced/storing-data",permalink:"/near-social-js/advanced/storing-data",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Reading Data",permalink:"/near-social-js/advanced/reading-data"},next:{title:"Granting Write Permission",permalink:"/near-social-js/advanced/granting-write-permission"}},p={},g=[{value:"Overview",id:"overview",level:2},{value:"Storing data for an account",id:"storing-data-for-an-account",level:2}];function u(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"storing-data",children:"Storing Data"}),"\n",(0,t.jsx)(c.A,{maxHeadingLevel:4,toc:g}),"\n",(0,t.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(e.p,{children:"When storing data, the top-level property must match an account ID. All the nested objects/properties will then be stored under this account."}),"\n",(0,t.jsx)(e.admonition,{type:"note",children:(0,t.jsxs)(e.p,{children:["The signer account ",(0,t.jsx)(e.strong,{children:"MUST"})," have write permissions granted for the account to which it wants to write. See ",(0,t.jsx)(e.a,{href:"granting-permissions",children:"granting permissions"})," on how to grant write permissions."]})}),"\n",(0,t.jsx)(e.admonition,{type:"note",children:(0,t.jsx)(e.p,{children:"The signer account automatically has write permissions for their own account."})}),"\n",(0,t.jsx)(e.h2,{id:"storing-data-for-an-account",children:"Storing data for an account"}),"\n",(0,t.jsxs)(i.A,{defaultValue:"javascript-via-package-manager",values:[{label:"JavaScript (via package manager)",value:"javascript-via-package-manager"},{label:"JavaScript (via CDN)",value:"javascript-via-cdn"},{label:"TypeScript",value:"typescript"}],children:[(0,t.jsx)(r.A,{value:"javascript-via-package-manager",children:(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"const { Social } = require('@builddao/near-social-js');\n\nconst signer = await nearConnection.account('alice.near');\nconst accessKeys = await signer.getAccessKeys();\nconst social = new Social();\nconst transaction = await social.set({\n  data: {\n    ['alice.near']: {\n      profile: {\n        name: 'Alice'\n      }\n    }\n  },\n  publicKey: accessKeys[0].public_key,\n  signer,\n});\n\n// ...sign the returned transaction and post to the network\n"})})}),(0,t.jsx)(r.A,{value:"javascript-via-cdn",children:(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:"var accessKeys;\nvar signer;\nvar social;\n\nnearConnection.account('alice.near')\n  .then((_signer) => {\n    signer = _signer;\n\n    return signer.getAccessKeys();\n  })\n  .then((_accessKeys) => {\n    accessKeys = _accessKeys;\n    social = new NEARSocialSDK();\n\n    return social.set({\n      data: {\n        ['alice.near']: {\n          profile: {\n            name: 'Alice'\n          }\n        }\n      },\n      publicKey: accessKeys[0].public_key,\n      signer,\n    });\n  })\n  .then((transaction) => {\n    // ...sign the returned transaction and post to the network\n  });\n"})})}),(0,t.jsx)(r.A,{value:"typescript",children:(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-typescript",children:"import { Social } from '@builddao/near-social-js';\n\nconst signer = await nearConnection.account('alice.near');\nconst accessKeys = await signer.getAccessKeys();\nconst social = new Social();\nconst transaction = await social.set({\n  data: {\n    ['alice.near']: {\n      profile: {\n        name: 'Alice'\n      }\n    }\n  },\n  publicKey: accessKeys[0].public_key,\n  signer,\n});\n\n// ...sign the returned transaction and post to the network\n"})})})]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}}}]);